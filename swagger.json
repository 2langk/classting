{"openapi":"3.0.1","servers":[{"url":"http://localhost:4000","description":"Local Server"}],"info":{"version":"0.0.1","title":"classting","description":"","license":{"name":"UNLICENSED"}},"paths":{"/schools":{"post":{"tags":["School"],"parameters":[],"requestBody":{"description":"학교 생성에 필요한 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOneSchoolData"}}},"required":true},"responses":{"201":{"description":"학교 id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOneSchoolView"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOneSchoolException"}}}}},"summary":"학교 생성하기","description":"학교 생성하기.\n- 관리자(admin) 유저만 가능합니다."},"get":{"tags":["School"],"parameters":[{"name":"data","in":"query","schema":{"$ref":"#/components/schemas/FindManySchoolData"},"description":"필터 & 페이지네이션 정보","required":true}],"responses":{"200":{"description":"학교 목록","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindManySchoolView"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindManySchoolException"}}}}},"summary":"학교 목록 조회하기","description":"학교 목록 조회하기."}},"/users/sign-up":{"post":{"tags":["User"],"parameters":[],"requestBody":{"description":"회원가입에 필요한 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpUserData"}}},"required":true},"responses":{"201":{"description":"유저 id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpUserView"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpUserException"}}}}},"summary":"회원가입하기","description":"회원가입하기.\n- email은 중복 불가합니다."}},"/users/sign-in":{"post":{"tags":["User"],"parameters":[],"requestBody":{"description":"이메일, 비밀번호","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInUserData"}}},"required":true},"responses":{"201":{"description":"엑세스 토큰","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInUserView"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInUserException"}}}}},"summary":"로그인하기","description":"로그인하기.\n- 인증에 성공하면 jwt를 받습니다.\n- 앞으로, Bearer {accessToken} 형식으로 유저를 인증합니다."}},"/users/me":{"get":{"tags":["User"],"parameters":[],"responses":{"200":{"description":"유저 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserMeView"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserMeException"}}}}},"summary":"자기 정보 가져오기","description":"자기 정보 가져오기.\n- 요청에 accessToken이 있어야 접근 가능합니다.","security":[{"bearer":[]}]}}},"components":{"schemas":{"CreateOneSchoolData":{"type":"object","properties":{"name":{"type":"string"},"region":{"type":"string"}},"nullable":false,"required":["name","region"]},"CreateOneSchoolException":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string","enum":["asd.","internal server error.","invalid access token.","invalid request data.","not authorized."]},"statusCode":{"type":"number"}},"nullable":false,"required":["name","message","statusCode"]},"CreateOneSchoolView":{"type":"object","properties":{"id":{"type":"number"}},"nullable":false,"required":["id"]},"FindManySchoolData":{"type":"object","properties":{"cursorId":{"type":"number"},"pageSize":{"type":"number"}},"nullable":false,"required":["pageSize"]},"FindManySchoolException":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string","enum":["asd.","internal server error.","invalid access token.","invalid request data.","not authorized."]},"statusCode":{"type":"number"}},"nullable":false,"required":["name","message","statusCode"]},"FindManySchoolView":{"type":"object","properties":{"schools":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"region":{"type":"string"}},"nullable":false,"required":["id","name","region"]}}},"nullable":false,"required":["schools"]},"SignUpUserData":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"},"name":{"type":"string"},"userRole":{"type":"string","enum":["admin","student"]}},"nullable":false,"required":["email","password","name","userRole"]},"SignUpUserException":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string","enum":["already email exist.","internal server error.","invalid access token.","invalid request data.","not authorized."]},"statusCode":{"type":"number"}},"nullable":false,"required":["name","message","statusCode"]},"SignUpUserView":{"type":"object","properties":{"id":{"type":"number"}},"nullable":false,"required":["id"]},"SignInUserData":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}},"nullable":false,"required":["email","password"]},"SignInUserException":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string","enum":["internal server error.","invalid access token.","invalid email or password.","invalid request data.","not authorized."]},"statusCode":{"type":"number"}},"nullable":false,"required":["name","message","statusCode"]},"SignInUserView":{"type":"object","properties":{"accessToken":{"type":"string"}},"nullable":false,"required":["accessToken"]},"GetUserMeException":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string","enum":["internal server error.","invalid access token.","invalid request data.","not authorized.","user notfound."]},"statusCode":{"type":"number"}},"nullable":false,"required":["name","message","statusCode"]},"GetUserMeView":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"userRole":{"type":"object","properties":{"id":{"type":"number"},"type":{"$ref":"#/components/schemas/UserRoleEnum"}},"nullable":false,"required":["id","type"]}},"nullable":false,"required":["id","name","userRole"]},"UserRoleEnum":{"type":"string","enum":["operator","admin","student"]}},"securitySchemes":{"bearer":{"type":"http","scheme":"bearer"}}}}